<!DOCTYPE html>
<html>

<head>
  <title>Sorting Visualizer</title>
  <link rel="icon" href="./icons/sort.png" type="image/icon type">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />
  <link rel="stylesheet" href="./css/sorting.css" />
</head>

<body class="container-fluid bg-dark text-white">
  <h1 class="jumbotron bg-dark">Sorting Visualizer</h1>

  <nav class="navbar navbar-light navbar-expand-lg">
    <button class="navbar-toggler bg-light" type="button" data-toggle="collapse" data-target="#navbarNavDropdown">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbarNavDropdown" class="collapse navbar-collapse">
      <div class="container-fluid flex-sm-column flex-lg-row align-items-start justify-content-between">
        <ul class="flex-column-sm nav navbar-nav m-1-lg p-2-lg">
          <div class="nav-item">
            <button id="new_array" class="btn btn-lg btn-danger nav-link m-1 p-1">
              Randomized Array
            </button>
          </div>
        </ul>
        <ul class="flex-column-sm nav navbar-nav m-1-lg p-2-lg">
          <div class="nav-item">
            <button id="bubble_sort" class="btn btn-lg btn-danger nav-link m-1 p-1">
              Bubble sort
            </button>
          </div>

          <div class="nav-item">
            <button id="selection_sort" class="btn btn-lg btn-danger nav-link m-1 p-1">
              Selection sort
            </button>
          </div>

          <div class="nav-item">
            <button id="insertion_sort" class="btn btn-lg btn-danger nav-link m-1 p-1">
              Insertion sort
            </button>
          </div>

          <div class="nav-item">
            <button id="quick_sort" class="btn btn-lg btn-danger nav-link m-1 p-1">
              Quick sort
            </button>
          </div>

          <div class="nav-item">
            <button id="merge_sort" class="btn btn-lg btn-danger nav-link m-1 p-1">
              Merge sort
            </button>
          </div>
        </ul>
      </div>
    </div>

  </nav>


  <div class="flex-row justify-content-center nav navbar-nav bg-warning rounded p-2 m-auto">
    <div class="nav-item bg-danger p-2 m-1 rounded">
      <label id="arr_size_label" class="form-label" for="arr_size_val">Array size = 50</label>
      <div class="nav-item">
        <input type="range" class="form-range" min="1" max="100" value="50" step="1" oninput="setSize(this.value)"
          onchange="setSize(this.value)" id="arr_size_val" />
      </div>
    </div>

    <div class="nav-item bg-danger p-2 m-1 rounded">
      <label id="speed_label" class="form-label" for="speed_val">Speed = 950</label>
      <div class="range">
        <input type="range" class="form-range" min="1" max="1000" value="950" step="1" oninput="setSpeed(this.value)"
          onchange="setSpeed(this.value)" id="speed_val" />
      </div>
    </div>
  </div>


  <div id="draw" class="d-flex draw border border-warning rounded"></div>



  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
  <script src="./js/utils.js"></script>

  <script>
    let num_bars = parseInt(document.getElementById("arr_size_val").value);
    let speed = 1001 - parseInt(document.getElementById("speed_val").value);
    init();

    function setSize(val) {
      enable();
      num_bars = val;
      document.getElementById("arr_size_label").innerText =
        "Array size = " + num_bars;
      init();
    }

    function setSpeed(val) {
      speed = 1001 - val;
      document.getElementById("speed_label").innerText = "Speed = " + val;
    }

    document.getElementById("new_array").addEventListener("click", init);
    document.getElementById("bubble_sort").addEventListener("click", () => {
      import('./js/bubble-sort.js').then(mod => {
        mod.bubble_sort();
      });
    });
    document.getElementById("selection_sort").addEventListener("click", () => {
      import('./js/selection-sort.js').then(mod => {
        mod.selection_sort();
      });
    });
    document.getElementById("insertion_sort").addEventListener("click", () => {
      import('./js/insertion-sort.js').then(mod => {
        mod.insertion_sort();
      });
    });
    document.getElementById("quick_sort").addEventListener("click", () => {
      import('./js/quick-sort.js').then(mod => {
        mod.quick_sort();
      });
    });
    document.getElementById("merge_sort").addEventListener("click", () =>
      import('./js/merge-sort.js').then(mod => mod.merge_sort()));
  </script>

</body>

</html>